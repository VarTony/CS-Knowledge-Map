# Побитовое суммирование по модулю два и резервные блоки (XOR-паритет)

При создании отказоустойчивых систем хранения данных используется приём **побитового суммирования блоков по модулю два** — операция `XOR`.  
Результат этого суммирования образует **резервный блок (паритет)**, который позволяет восстановить любой один потерянный блок без обращения к резервной копии.

---

## Суть идеи

Каждый бит резервного блока вычисляется как:  
`P[i] = A[i] XOR B[i] XOR C[i] …`

Если один из исходных блоков пропадёт, его можно получить обратно:  
`A[i] = P[i] XOR B[i] XOR C[i] …`

Тем самым резервный блок выступает как **побитовая маска различий** между исходными данными — не фильтрующая, а восстанавливающая.

---

## Пример

Блок A: `10110010`  
Блок B: `11001100`  
Паритет: `01111110`  (A ⊕ B)  

Потеряли A → восстановим: `A = B ⊕ Паритет`  
Потеряли B → `B = A ⊕ Паритет`

Система всегда знает, какой блок отсутствует, и пересчитывает его «в обратную сторону».

---

## Почему это эффективно

- **Минимальные затраты** — нужен лишь один резервный блок на группу.  
- **Быстрое восстановление** — операция XOR выполняется аппаратно и мгновенно.  
- **Простая избыточность** — позволяет защищать данные от одиночных отказов без дублирования всего массива.

---

## Где применяется

- В **RAID 5** и **RAID 6** (на уровне дисков);  
- В схемах **кодов Хэмминга** и **Reed–Solomon** (на уровне байтов и страниц);  
- В распределённых файловых системах (**Ceph**, **Erasure Coding**).

---

## Итог

**Побитовое суммирование по модулю два** создаёт резервный блок-маску, содержащую взаимные различия исходных данных.  
Этот блок не хранит копию информации, но позволяет полностью восстановить её при потере одной части массива.  

Именно на этом принципе основаны все современные схемы **паритета и избыточного кодирования**.

---

### Связанные темы

- [Уровни RAID (0–6)](./RAID_Levels.md)  
- [Ремаппинг и резервирование секторов](./Remapping_and_SectorSparing.md)  
- [Отказоустойчивость и MTTDL](../FaultTolerance/MTBF_and_MTTDL.md)  
- [Коды Хэмминга и коррекция ошибок](../FaultTolerance/ErrorCorrection.md)
